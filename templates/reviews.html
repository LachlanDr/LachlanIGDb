{% extends "base.html" %}

{% block content %}
<div class="review-box">
    <h2>All Reviews</h2>

    <form action="{{ url_for('reviews') }}" method="get">
        <input type="text" name="query" placeholder="Search reviews..." value="{{ request.args.get('query', '') }}">
        <button type="submit">Search</button>
    </form>

    <ul>
        {% for review in reviews %}
        <div class="review-box">
            <h3>{{ review.username }} - {{ review.game }}</h3>

            <p>{{ review.review_text }}</p>
            <p><strong>Rating:</strong>
                {% for i in range(1, review.score + 1) %}
                    ★
                {% endfor %}
                {% for i in range(review.score + 1, 6) %}
                    ☆
                {% endfor %}
            </p>
            <p><em>Reviewed on: {{ review.date }}</em></p>
        </div>
        {% endfor %}
    </ul>
</div>
{% endblock %}
